(function(o,e){var n,c;var i="20140423111503";var t="http://static.ruyisou.net";var r="http://static.ruyisou.net";var a="http://un.114dianxin.com";var u="http://c.ruyisou.net";var m={module_url:r+"/elfin/js/ruyiso.{module}.js?v="+i,getModuleUrl:function(o){return this.module_url.replace(/\{module\}/g,o)},paths:{jquery:{path:r+"/elfin/js/jquery-1.7.2.min.js",_export:function(){if(o.$ry)return o.$ry;o.$ry=o.jQuery.noConflict(true);return o.$ry}},eject:{path:r+"/elfin/js/jquery-eject-0.2.js",_export:function(){return o.$ry}},elfin:{path:r+"/elfin/js/rys.elfin-0.2.js",_export:function(){return elfin}}}};(function(e,i,t){var a=Object.prototype.hasOwnProperty,u=Object.prototype,s=u.toString,f={},l=[],d={},h=[],p={},v=[],y=false,g=false;(function(){if(typeof jQuery!="undefined"&&jQuery().jquery>"1.4.3"&&typeof jQuery.ajax!="undefined"){f["jquery"]=e.jQuery||e.$;e.$ry=f["jquery"]}})();function b(o,e){return a.call(o,e)}function x(o){return s.call(o)==="[object Array]"}function j(o,e){var n=document.getElementsByTagName("head")[0];var c=document.createElement("script");c.type="text/javascript";c.async=true;if(o.indexOf("http://")!==0)o=r+o;c.src=o;c.onload=c.onreadystatechange=function(){if(!c.readyState||c.readyState==="loaded"||c.readyState==="complete"){c.onload=c.onreadystatechange=null;if(e){e()}}};n.appendChild(c)}function w(o){for(var e=0,n=o.length;e<n;e++){if(!b(f,o[e])){return false}}return true}function q(o){if(!o)return;if(typeof o=="string")o=[o];for(var e=0,n=o.length;e<n;e++){if(b(d,o[e])||b(f,o[e]))continue;d[o[e]]=true;l.push(o[e]);setTimeout(function(){C()},1)}}function O(e){var n=e.dependencies||[],c=[];for(var i=0,t=n.length;i<t;i++){c.push(f[n[i]])}_(e.name,e.fn.apply(o,c));setTimeout(function(){E()},1);return true}function _(o,e){f[o]=e;T();E()}function k(o){if(!o)return;var e=o.name;if(b(p,e))return;p[e]=true;h.push(o)}function C(o){if(y)return;y=true;if(typeof o==="undefined"||!o){o=l}var e=o.shift();if(!e){y=false;return}var n=m.paths[e]||m.getModuleUrl(e),c;if(typeof n==="object"){c=n._export;n=n.path}if(n){j(n,function(){if(typeof c=="function")_(e,c())})}else{i("module["+e+"] wait to export")}y=false;C(o)}function T(o){if(typeof o==="undefined"||!o){o=h}var e=-1,n;while(++e<o.length){n=o[e];if(!n)continue;if(b(f,n.name)){o[e]=null;continue}if(w(n.dependencies)){O(n);o[e]=null}}}function M(e){var n=e.dependencies||[],c=[];for(var i=0,t=n.length;i<t;i++){c.push(f[n[i]])}setTimeout(function(){e.fn.apply(o,c)},0);return true}function E(o){if(typeof o==="undefined"||!o){o=v}if(o.length===0)return;var e=-1,n;while(++e<o.length){n=o[e];if(!n)continue;if(w(n.dependencies)){M(n);o[e]=null}}}function I(o){v.push(o)}n=function(o,e,n,c){if(b(f,o)&&!(c&&c.force))return;if(typeof e==="function"||x(e)&&e.length===0){_(o,e());return}var i={name:o,dependencies:e,fn:n};var t=i.dependencies;if(!w(t)){q(t);k(i);return}else{O(i)}};c=function(o,e){if(arguments.length===0)return;if(typeof o==="function"&&arguments.length===1){e();return}var n={dependencies:o,fn:e};var c=n.dependencies;if(!w(c)){q(c);I(n);return}else{M(n)}}})(o,function(o){window.console&&console.log(o)});var s=o["ruyisoshoppingassist"+i]={};(function(o,e){o.define=n;o.require=c;o.build_no=i;o.LOCATION=window.location||document.location;o.server=t;o._=o.browser={checkBoxModel:function(){if(typeof o.boxModel!=="undefined")return o.boxModel;var e=document.createElement("div"),n=document.body;e.style.cssText="visibility:hidden;border:0;width:1px;height:0;position:static;padding:0px;margin:0px;padding-left:1px;";document.body.appendChild(e);o.boxModel=this.boxModel=e.offsetWidth===2;document.body.removeChild(e);e=null;return o.boxModel},isIE6:function(){var o=window.navigator.userAgent.toLowerCase();var e=/(msie) ([\w.]+)/.exec(o);return e!=null&&e[2]<7}(),loadCss:function(){if(this.cssLoaded===true)return;var e=this.checkBoxModel();var n="rys-elfin.css?v="+o.build_no;var c=document.createElement("link");c.rel="stylesheet";c.href=r+"/elfin/css/"+n;c.type="text/css";document.getElementsByTagName("head")[0].appendChild(c);this.cssLoaded=true},getDomain:function(e){var n=e||o.LOCATION.href;try{n=n.match(/([-\w]+\.\b(?:net\.cn|com\.hk|com\.cn|com|cn|net|org|cc|tv$|hk)\b)/)[1]}catch(c){n=o.LOCATION.hostname}return n}};o.domain=o._.getDomain()})(s);(function(o,e){var c=document.getElementById("ruyisomain");c=c.src&&c.src.substring(c.src.indexOf("?")+1);var r=c.split("&");c={};var s;for(var f=0,l=r.length;f<l;f++){s=r[f].split("=");c[s[0]]=s[1]||""}if(!i){window["S"]=o}n("server",function(){return{server:t,cpsServer:u,union_server:a,domain:o._.getDomain(),uuid:c.uuid,acd:c.acd,source:c.source,hostname:o.LOCATION.hostname,version:c.version}});var d=!!(c.source=="00000");var h=["maxthon3","firefox","liebao","360se","360jisu","chrome"];var p=h.join(",").indexOf(c.source)>-1?true:false;var v=["1688.com","1mall.com","360buy.com","51buy.com","51fanli.com","5lux.com","958shop.com","amazon.cn","b5m.com","baidu.com","banggo.com","baoyeah.com","bookschina.com","bosideng.cn","camel.com.cn","china-pub.com","coo8.com","coolpad.cn","damai.cn","dangdang.com","duitang.com","ebay.com","ehaier.com","esprit.cn","etao.com","faxianla.com","feiniu.com","gome.com.cn","guang.com","guangjiela.com","handu.com","handuyishe.com","hitao.com","homevv.com","huaban.com","ihush.com","ing2ing.com","j1.com","jd.com","jiuxian.com","jumei.com","jxdyf.com","lefeng.com","leho.com","letao.com","letv.com","liebo.com","linkmasa.com","m18.com","masamaso.com","mbaobao.com","meilishuo.com","metromall.com.cn","milier.com","mogujie.com","monteamor.com","moonbasa.com","naruko.com.cn","newegg.com.cn","no5.com.cn","okbuy.com","okhqb.com","paipai.com","paixie.net","pba.cn","qjherb.com","redbaby.com.cn","s.cn","secoo.com","sfbest.com","shangpin.com","sportica.cn","staples.cn","suning.com","tao3c.com","taobao.com","taoxie.com","tiantian.com","tmall.com","vancl.com","vip.com","vipshop.com","vivian.cn","vjia.com","vmall.com","wanggou.com","wangjiu.com","wbiao.cn","winxuan.com","womai.com","wowsai.com","woxihuan.com","xiaomi.com","xifuquan.com","xiu.com","yesmywine.com","yhd.com","yihaodian.com","yintai.com","yixun.com","yougou.com","zhenpin.com","zhimei.com","zol.com","zol.com.cn"];var y=["ctrip.com","17u.cn","lvmama.com","qunar.com","meituan.com","jumei.com","lashou.com","nuomi.com","dianping.com","gaopeng.qq.com","gaopeng.com","elong.com","mangocity.com","kuxun.cn","xiu.com","zhuna.cn","pztuan.com","liketuan.com","hao123.com","2345.com","sohu.com","sogou.com","duba.com","rising.cn"];var g=o.isMall=!!v.join(",").match(new RegExp("\\b"+o.domain+"\\b"));var b=o.isSl=!!y.join(",").match(new RegExp("\\b"+o.domain+"\\b"));m.paths["rule"]={path:"/elfin/js/plugin/rule/sites/"+o.domain+"?v="+i,_export:function(){return o.rule}};m.paths["env"]={path:t+"/plugin.do?method=js&buildno="+i+"&url="+encodeURIComponent(o.LOCATION.href)+"&acd="+(c.acd||"")+"&reason="+(c.reason||"")+"&source="+c.source+"&uuid="+c.uuid+"&domain="+o.domain+"&version="+c.version+"&site="+o.domain,_export:function(){return o.env}};if(!p&&!d&&(b||g)){o.require(["sl"],function(o){o.run()})}var x=["qq.com","youku.com","tudou.com","sina.com.cn","163.com","ifeng.com","sohu.com","taobao.com","sogou.com","2345.com","hao123.com","qzone.qq","autohome","xxhh","letv","jide123","pcauto","auto.sohu","pps","bitauto","baidu.com","iqiyi.com","duba.com","rising.cn","4399.com","3jy.com","xxhh.com","xinhuanet.com","3366.com"];var j=false;for(var f=0;f<x.length;f++){if(o.domain.indexOf(x[f])>=0){j=true;break}}var w=o.isNav=!!(!d&&j&&!p);var q="10000,10001,10002";if(w&&parseInt(c.acd)>3&&q.indexOf(c.source)>=0){o.require(["nav"],function(o){o.run()})}o.require(["jquery"],function(e){o._.loadCss();o.require(["eject","elfin","server"],function(o,e,n){e.constants=n;e.init()})})})(s)})(this);